
<dom-module id="category-view">
    <template>
        <style>
            :host{
                z-index: -30;
            }

            h1{
                color: black;
            }

            .item {
                @apply --layout-horizontal;
                padding: 10px;
                border-radius: 8px;
                background-color: white;
                border: 1px solid #9c27b0;
                max-width: 800px;
                margin: 16px auto 0 auto;
                cursor: pointer;
            }

            .item:focus {
                outline: 0;
                border-color: #333;
            }

            .circle-image {
                height: 60px;
                width: 60px;
                border-radius: 30%;
                box-sizing: border-box;
                background-color: #DDD;
            }        

            .pad {          
                padding: 0 16px;          
                @apply --layout-flex;
                @apply --layout-vertical;
                align-self: center;          
            }

            span{
                color: black;
            }
        </style>
        
        <app-route
            route="[[route]]"
            pattern="/:id/:category"
            data="{{routeData}}">
        </app-route>
        
        <firebase-query
            id="query"
            path="/categories/{{routeData.id}}/products"
            data="{{products}}">
        </firebase-query>
                                                                      
        <iron-list items="[[products]]" as="product">
            <template>
                <div>
                <div class="item">
                    <div class="pad"> 
                        <a href="/detail/{{routeData.id}}/{{routeData.category}}/[[product.$key]]/[[product.name]]"><span>[[product.name]] - [[product.description]]</span></a>                        
                    </div>
                </div>
                </div>                            
            </template>                  
        </iron-list>                        
    </template>

    <script>
        class CategoryView extends Polymer.Element{
            static get is(){ return 'category-view'}
                                
            static get properties(){
                return{
                    productsList: Object,
                    
                    category: Object,                    

                    route: Object,
                    
                    key: String,                   
                };
            }
        }
        window.customElements.define(CategoryView.is, CategoryView);
    </script>
    </dom-module>