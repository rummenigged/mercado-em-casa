<link rel="import" href="../../bower_components/polymer/polymer-element.html">

<dom-module id="item-form-payment">
  <template>
      <style include="flaty-bootstrap">
           .card{
/*              max-width: 20rem;*/
              background: #9c27b0;
            }
          
            .form-check-input{            
              float: left;
            }
          
          .card-body{
              background-color: white;
              color: black;
          }
      </style>      
        <div class="card text-white mb-3">
            <div class="card-header">Forma de Pagamento                
            </div>
            <div class="card-body">
<!--                <h4 class="card-title">Dinheiro</h4>-->
<!--
                <div class="form-check">
                    <label class="form-check-label">
                        <input type="radio" class="form-check-input" name="optionsRadios" id="optionsRadio" value="option1" checked="">
                    </label>
                </div>
-->
                    <template is="dom-repeat" items="{{paymentForms}}" as="form">
                        <div class="row">
                            <!-- <div class="col-12 col-sm-6 col-md-6 col-lg-6"> -->
                                <div class="col-11">[[form.name]]</div>
                                <!-- <div class="col-10">Dinheiro</div> -->
                                <div class="col-1">
                                    <input type="radio" 
                                        class="form-check-input"
                                        name="formPayment"                                    
                                        value=[[form.name]] 
                                        on-change="_paymentFormSelected"
                                        checked>
                                </div>
                            <!-- </div> -->
                        </div>
                    </template>                
<!--                <p class="card-text">Dinheiro</p>-->
            </div>
        </div>
  </template>
  <script>
    class ItemFormPayment extends Polymer.Element {
        static get is() { return 'item-form-payment'; }
        static get properties() { 
            return {
                paymentForms:{
                    type: Array,
                    observer: '_paymentFormsChanged'
                },
                selectedPaymentForm:{
                    type: String,
                    notify: true
                }
            }
        }

        ready(){
            super.ready();
            console.log(this.paymentForms);
        }

        _paymentFormsChanged(newValue, oldValue){
            console.log(oldValue);
            console.log(newValue);
            if(newValue != undefined && newValue.length > 0){
                this.selectedPaymentForm = newValue[newValue.length - 1].name;
            }
        }

        _paymentFormSelected(value){
            console.log(value.model.__data.form.name);
            this.selectedPaymentForm = value.model.__data.form.name
        }
    }    
    customElements.define(ItemFormPayment.is, ItemFormPayment);
  </script>

</dom-module>